
# ServiceDesk Plus API – Технічне завдання (ТЗ)

Цей документ описує розподіл роботи по ендпоінтам API між командами.

---

## Команда 1: Руслан + Денис
### Рівень L1 (Базовий рівень)
- **POST /auth/register** – Реєстрація нового користувача (валідація, хешування паролю).
- **POST /auth/login** – Логін користувача (JWT токени).

### Рівень L2
- Обробка помилок (409 – користувач існує, 401 – неправильний пароль).
- Покриття юніт-тестами.

---

## Команда 2: Міша + Аріна
### Рівень L1
- **POST /tickets** – Створення заявки.
- **GET /tickets/{status}** – Отримання списку заявок (фільтрація по статусу).

### Рівень L2
- Валідація пріоритету (low/medium/high).
- Перевірка прав доступу (клієнт бачить лише свої заявки).

---

## Команда 3: Маша + Віка
### Рівень L1
- **GET /tickets/{ticket_id}** – Отримання заявки по ID.
- **PATCH /tickets/{ticket_id}** – Оновлення статусу заявки (admin only).
- **GET /ticket/{ticket_id}/{client_id}/** – Отримати заявку по Client ID
- **GET /tickets/{client_id}** – Отримати заявки по Client ID
### Рівень L2
- Логування змін статусів.
- Тести на доступність ендпоінтів тільки адміну.

---

## Команда 4: Нікіта + Іван
### Рівень L1
- **GET /chats/{chat_id}/messages** – Отримати повідомлення з чату.
- **POST /chats/{chat_id}/messages** – Відправити повідомлення.

### Рівень L2
- Сортування повідомлень за `created_at`.
- Автоматичні notification badges.

---

## Команда 5: Орест + Діма + Данил
### Рівень L1
- **POST /files/upload** – Завантаження файлу до заявки.
- **POST /telegram/webhook** – Інтеграція з Telegram (отримання апдейтів).

### Рівень L2
- Збереження файлів у S3/локально (налаштування змінними).
- Логування Telegram подій.

---

## Definition of Done (DoD)
1. Ендпоінти відповідають OpenAPI контракту.
2. Написані тести (pytest).
3. Використання alembic для міграцій.
4. Кожен endpoint задокументований у FastAPI docs (Swagger).
5. Code review перед злиттям у `main`.
